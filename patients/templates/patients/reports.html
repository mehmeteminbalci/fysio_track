{% extends "base.html" %}
{% load static %}

{% block content %}
<div class="container mt-4">
    <h1 class="text-center">Raporlar</h1>
    <ul class="nav nav-tabs" id="reportsTabs" role="tablist">
        <li class="nav-item" role="presentation">
            <button class="nav-link active" id="performance-tab" data-bs-toggle="tab" data-bs-target="#performance" type="button" role="tab" aria-controls="performance" aria-selected="true">Terapist Performansı</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="appointments-tab" data-bs-toggle="tab" data-bs-target="#appointments" type="button" role="tab" aria-controls="appointments" aria-selected="false">Randevular</button>
        </li>
        <li class="nav-item" role="presentation">
            <button class="nav-link" id="timeSeries-tab" data-bs-toggle="tab" data-bs-target="#timeSeries" type="button" role="tab" aria-controls="timeSeries" aria-selected="false">Zaman Serisi</button>
        </li>
    </ul>
    <div class="tab-content mt-3" id="reportsTabsContent">
        <!-- Terapist Performansı -->
        <div class="tab-pane fade show active" id="performance" role="tabpanel" aria-labelledby="performance-tab">
            <h2>Terapist Performansı</h2>
            <div id="performance-labels" style="display: none;">{{ labels|safe }}</div>
            <div id="performance-data" style="display: none;">{{ status_data|safe }}</div>
            <canvas id="performanceChart" width="400" height="200"></canvas>
        </div>
        <!-- Randevular -->
        <div class="tab-pane fade" id="appointments" role="tabpanel" aria-labelledby="appointments-tab">
            <h2>Randevular</h2>
            <div id="chart-labels" style="display: none;">{{ labels|safe }}</div>
            <div id="chart-data" style="display: none;">{{ data|safe }}</div>
            <canvas id="appointmentsChart" width="400" height="200"></canvas>
        </div>
        <!-- Zaman Serisi -->
        <div class="tab-pane fade" id="timeSeries" role="tabpanel" aria-labelledby="timeSeries-tab">
            <h2>Zaman Serisi</h2>
            <div id="chart-labels" style="display: none;">{{ labels|safe }}</div>
            <div id="chart-data" style="display: none;">{{ data|safe }}</div>
            <canvas id="timeSeriesChart" width="400" height="200"></canvas>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/reports.js' %}"></script>
{% endblock %}
